<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CHEEEEESE</title>
    
  <style>
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Arial}
    #game{display:block;background:#faeeaa;width:100vw;height:100vh}
    .hint{position:absolute;left:12px;top:12px;background:red;padding:8px;border-radius:8px}
    </style>
</head>
<body>
<canvas id="game"></canvas>
<div class="hint">CHEESE</div>

<script>
//background image
const canvas=document.getElementById('game');
const ctx=canvas.getContext('2d');
let DPR=Math.max(1,window.devicePixelRatio||1);
function resize() {
  canvas.width  = innerWidth * DPR;
  canvas.height = innerHeight * DPR;
  canvas.style.width  = innerWidth;
  canvas.style.height = innerHeight;
  ctx.setTransform(DPR,0,0,DPR,0,0);
}
//background
addEventListener('resize', resize);
resize();
const bg=new Image();
bg.src='../images/chez.png';
bg.onload=function(){draw();};

//Dave
const DaveImg=new Image();
DaveImg.src='../images/dave.png';
const Dave={x:0,y:338,w:100,h:100};

//cheese
const chezimg=new Image();
const lordchezimg=new Image();
chezimg.src='../images/cheza.png';
lordchezimg.src='../images/LordChez.png'
let chezs=0;
const chez={x:Dave.x-50,y:Dave.y+25,h:50,w:50};
const chez2={x:chez.x-50,y:Dave.y+50,h:50,w:50};
const chez3={x:chez2.x-50,y:Dave.y+25,h:50,w:50};
const chez4={x:chez3.x-50,y:Dave.y+50,h:50,w:50};
const lordChez={x:chez4.x-550,y:Dave.y,h:500,w:500};

//Audio
const meow=new Audio('../music/CatScream_sfx.mp3');
let score=0;
console.log(score);
const music=new Audio('../music/Don\'tTouchThatDial.mp3');

canvas.addEventListener('click', (e) => {
    const rect = canvas.getBoundingClientRect();
    const x = (e.clientX - rect.left);
    const y = (e.clientY - rect.top);

    if (x >= Dave.x && x <= Dave.x + Dave.w &&
        y >= Dave.y && y <= Dave.y + Dave.h) {
        meow.currentTime = 0;
        meow.play();
        score=score+1;
        //only moved it because of the number here
        console.log(score);
    }
});

function loop() {
    //background
    if (bg.complete) {
        ctx.drawImage(bg, 0, 0, canvas.width / DPR, canvas.height / DPR);
    }
    //Dave
    if (DaveImg.complete) {ctx.drawImage(DaveImg, Dave.x, Dave.y, Dave.w, Dave.h);}
    //chez
    chezs+=0.05;//cheese speed
    let chesanimateUp=(Math.sin(chezs))*25;
    let chesanimateDown=(Math.sin(chezs))*-25;
    let Lordanimate=(Math.sin(chezs))*50
    if(chezimg.complete){
     ctx.drawImage(chezimg,chez.x,chez.y,chez.w,chez.h)
    }
    if(chezimg.complete){ctx.drawImage(chezimg,chez2.x,chez2.y,chez2.w,chez2.h)}
    if(chezimg.complete){ctx.drawImage(chezimg,chez3.x,chez3.y,chez3.w,chez3.h)}
    if(chezimg.complete){ctx.drawImage(chezimg,chez4.x,chez4.y,chez4.w,chez4.h)}
    if(chezimg.complete){ctx.drawImage(lordchezimg,lordChez.x,lordChez.y,lordChez.w,lordChez.h)}
    Dave.x=Dave.x+3;
    chez.x=Dave.x-50;
    chez.y=Dave.y+25+chesanimateUp;
    chez2.y=Dave.y+50+chesanimateDown;
    chez2.x=chez.x-50;
    chez3.x=chez2.x-50;
    chez3.y=Dave.y+25+chesanimateUp;
    chez4.x=chez3.x-50;
    chez4.y=Dave.y+50+chesanimateDown;
    lordChez.x=chez4.x-550;
    lordChez.y=Dave.y+Lordanimate-250;

    if(Dave.x>1380){Dave.x=0;Dave.y=Math.ceil(Math.random()*675)}
    requestAnimationFrame(loop);
music.play()
}
bg.onload =DaveImg.onload=chezimg.onload=loop;
    </script>
</body>
</html>